extends ../layout.pug

block body
  - var instance = instance || {}
  .card: form(method='post' enctype='application/x-www-form-urlencoded')
    .card-header
      h3.card-title Новая номенклатурная позиция
    .card-body
      if instance.id
        .form-group
          label(for="id") Код
          input#id.form-control(type="text" placeholder="" disabled value=instance.id)
      .form-group
        label(for="nomenclatureModelId") Классификация номенклатуры
        select#nomenclatureModelId.form-control(name="nomenclatureModelId")
          option(value='') Класс > Группа > Тип > Модель
          each val in parent
            if instance.nomenclatureModelId == val.id
              option(selected value=val.id)= val['nt.ng.nc.title'] + ' > ' + val['nt.ng.title'] + ' > ' + val['nt.title'] + ' > ' + val.title

            else
              option(value=val.id)= val['nt.ng.nc.title'] + ' > ' + val['nt.ng.title'] + ' > ' + val['nt.title'] + ' > ' + val.title
      .form-group
        label(for="unitId") Единица измерения
        select#unitId.form-control(name="unitId")
          option(value='') ___
          each val in unit
            if instance.unitId == val.id
              option(selected value=val.id)= val.title + ' (' + val.short + ')'
            else
              option(value=val.id)= val.title + ' (' + val.short + ')'
      .form-group
        label(for="title") Наименование
        input#title.form-control(name="title" type="text" placeholder="" value=instance.title)
      .form-group
        label(for="designation") Обозначение
        input#short.form-control(name="designation" type="text" placeholder="" value=instance.designation)
    .card-footer
      if instance.id
        button.btn.btn-primary(type="submit") Сохранить
        a.float-right.btn.btn-danger(href=`/nomenclature/delete/${instance.id}`) Удалить
      else
        button.btn.btn-primary(type="submit") Добавить
