doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    |   
    meta(name='viewport', content='width=device-width, initial-scale=1')
    |   
    title AdminLTE 3 | Dashboard
    // Google Font: Source Sans Pro
    link(rel='stylesheet', href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback')
    // Font Awesome
    link(rel='stylesheet', href='plugins/fontawesome-free/css/all.min.css')
    // Ionicons
    link(rel='stylesheet', href='https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css')
    // Tempusdominus Bootstrap 4
    link(rel='stylesheet', href='plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css')
    // iCheck
    link(rel='stylesheet', href='plugins/icheck-bootstrap/icheck-bootstrap.min.css')
    // JQVMap
    link(rel='stylesheet', href='plugins/jqvmap/jqvmap.min.css')
    // Theme style
    link(rel='stylesheet', href='dist/css/adminlte.min.css')
    // overlayScrollbars
    link(rel='stylesheet', href='plugins/overlayScrollbars/css/OverlayScrollbars.min.css')
    // Daterange picker
    link(rel='stylesheet', href='plugins/daterangepicker/daterangepicker.css')
    // summernote
    link(rel='stylesheet', href='plugins/summernote/summernote-bs4.min.css')
    link(rel='stylesheet', href='plugins/jsgrid/jsgrid.css')
    link(rel='stylesheet', href='plugins/jsgrid/jsgrid-theme.css')
    link(rel='stylesheet', href='plugins/jquery-ui/jquery-ui.css')
    //link(rel='stylesheet', href='plugins/jquery-ui/jquery-ui.theme.css')
    link(rel='stylesheet', href='plugins/jquery-ui/jquery-ui.structure.css')
  body.hold-transition.sidebar-mini.layout-fixed
    .wrapper
      // Preloader
      .preloader.flex-column.justify-content-center.align-items-center
        img.animation__shake(src='dist/img/AdminLTELogo.png', alt='AdminLTELogo', height='60', width='60')
      // Navbar
      nav.main-header.navbar.navbar-expand.navbar-white.navbar-light
        // Left navbar links
        ul.navbar-nav
          li.nav-item
            a.nav-link(data-widget='pushmenu', href='#', role='button')
              i.fas.fa-bars
          |       
          li.nav-item.d-none.d-sm-inline-block
            a.nav-link(href='index3.html') Home
          |       
          li.nav-item.d-none.d-sm-inline-block
            a.nav-link(href='#') Contact
        // Right navbar links
        ul.navbar-nav.ml-auto
          // Navbar Search
          li.nav-item
            a.nav-link(data-widget='navbar-search', href='#', role='button')
              i.fas.fa-search
            |         
            .navbar-search-block
              form.form-inline
                .input-group.input-group-sm
                  input.form-control.form-control-navbar(type='search', placeholder='Search', aria-label='Search')
                  |               
                  .input-group-append
                    button.btn.btn-navbar(type='submit')
                      i.fas.fa-search
                    |                 
                    button.btn.btn-navbar(type='button', data-widget='navbar-search')
                      i.fas.fa-times
          // Messages Dropdown Menu
          li.nav-item.dropdown
            a.nav-link(data-toggle='dropdown', href='#')
              i.far.fa-comments
              |           
              span.badge.badge-danger.navbar-badge 3
            |         
            .dropdown-menu.dropdown-menu-lg.dropdown-menu-right
              a.dropdown-item(href='#')
                // Message Start
                .media
                  img.img-size-50.mr-3.img-circle(src='dist/img/user1-128x128.jpg', alt='User Avatar')
                  |               
                  .media-body
                    h3.dropdown-item-title
                      | Brad Diesel
                      span.float-right.text-sm.text-danger
                        i.fas.fa-star
                    |                 
                    p.text-sm Call me whenever you can...
                    |                 
                    p.text-sm.text-muted
                      i.far.fa-clock.mr-1
                      |  4 Hours Ago
                // Message End
              |           
              .dropdown-divider
              |           
              a.dropdown-item(href='#')
                // Message Start
                .media
                  img.img-size-50.img-circle.mr-3(src='dist/img/user8-128x128.jpg', alt='User Avatar')
                  |               
                  .media-body
                    h3.dropdown-item-title
                      | John Pierce
                      span.float-right.text-sm.text-muted
                        i.fas.fa-star
                    |                 
                    p.text-sm I got your message bro
                    |                 
                    p.text-sm.text-muted
                      i.far.fa-clock.mr-1
                      |  4 Hours Ago
                // Message End
              |           
              .dropdown-divider
              |           
              a.dropdown-item(href='#')
                // Message Start
                .media
                  img.img-size-50.img-circle.mr-3(src='dist/img/user3-128x128.jpg', alt='User Avatar')
                  |               
                  .media-body
                    h3.dropdown-item-title
                      | Nora Silvester
                      span.float-right.text-sm.text-warning
                        i.fas.fa-star
                    |                 
                    p.text-sm The subject goes here
                    |                 
                    p.text-sm.text-muted
                      i.far.fa-clock.mr-1
                      |  4 Hours Ago
                // Message End
              |           
              .dropdown-divider
              |           
              a.dropdown-item.dropdown-footer(href='#') See All Messages
          // Notifications Dropdown Menu
          li.nav-item.dropdown
            a.nav-link(data-toggle='dropdown', href='#')
              i.far.fa-bell
              |           
              span.badge.badge-warning.navbar-badge 15
            |         
            .dropdown-menu.dropdown-menu-lg.dropdown-menu-right
              span.dropdown-item.dropdown-header 15 Notifications
              |           
              .dropdown-divider
              |           
              a.dropdown-item(href='#')
                i.fas.fa-envelope.mr-2
                |  4 new messages
                |             
                span.float-right.text-muted.text-sm 3 mins
              |           
              .dropdown-divider
              |           
              a.dropdown-item(href='#')
                i.fas.fa-users.mr-2
                |  8 friend requests
                |             
                span.float-right.text-muted.text-sm 12 hours
              |           
              .dropdown-divider
              |           
              a.dropdown-item(href='#')
                i.fas.fa-file.mr-2
                |  3 new reports
                |             
                span.float-right.text-muted.text-sm 2 days
              |           
              .dropdown-divider
              |           
              a.dropdown-item.dropdown-footer(href='#') See All Notifications
          |       
          li.nav-item
            a.nav-link(data-widget='fullscreen', href='#', role='button')
              i.fas.fa-expand-arrows-alt
          |       
          li.nav-item
            a.nav-link(data-widget='control-sidebar', data-slide='true', href='#', role='button')
              i.fas.fa-th-large
      // /.navbar
      // Main Sidebar Container
      aside.main-sidebar.sidebar-dark-primary.elevation-4
        // Brand Logo
        a.brand-link(href='index3.html')
          img.brand-image.img-circle.elevation-3(src='dist/img/AdminLTELogo.png', alt='AdminLTE Logo', style='opacity: .8')
          |       
          span.brand-text.font-weight-light AdminLTE 3
        // Sidebar
        .sidebar
          // Sidebar user panel (optional)
          .user-panel.mt-3.pb-3.mb-3.d-flex
            .image
              img.img-circle.elevation-2(src='dist/img/user2-160x160.jpg', alt='User Image')
            |         
            .info
              a.d-block(href='#') Alexander Pierce
          // SidebarSearch Form
          .form-inline
            .input-group(data-widget='sidebar-search')
              input.form-control.form-control-sidebar(type='search', placeholder='Search', aria-label='Search')
              |           
              .input-group-append
                button.btn.btn-sidebar
                  i.fas.fa-search.fa-fw
          // Sidebar Menu
          nav.mt-2
            ul.nav.nav-pills.nav-sidebar.flex-column(data-widget='treeview', role='menu', data-accordion='false')
              //
                Add icons to the links using the .nav-icon class
                with font-awesome or any other icon font library
              li.nav-item.menu-open
                a.nav-link.active(href='#')
                  i.nav-icon.fas.fa-tachometer-alt
                  |               
                  p
                    | Dashboard
                    i.right.fas.fa-angle-left
                |             
          // /.sidebar-menu
        // /.sidebar
      // Content Wrapper. Contains page content

      .content-wrapper
        // Content Header (Page header)
        .content-header
          .container-fluid
            .row.mb-2
              .col-sm-6
                h1.m-0 Dashboard
              // /.col
              .col-sm-6
                ol.breadcrumb.float-sm-right
                  li.breadcrumb-item
                    a(href='#') Home
                  |               
                  li.breadcrumb-item.active Dashboard v1
              // /.col
            // /.row
          // /.container-fluid
        // /.content-header
        // Main content
        section.content
          .card
            .card-header
              h3.card-title Hover Data Table
            .card-body
              #jsGrid
      footer.main-footer
        strong
          | Copyright &copy; 2014-2021 
          a(href='https://adminlte.io') AdminLTE.io
          | .
        |     All rights reserved.
        |     
        .float-right.d-none.d-sm-inline-block
          b Version
          |  3.1.0
      // Control Sidebar
      aside.control-sidebar.control-sidebar-dark
        // Control sidebar content goes here
      // /.control-sidebar
    // ./wrapper
    // jQuery
    script(src='plugins/jquery/jquery.js')
    // jQuery UI 1.11.4
    script(src='plugins/jquery-ui/jquery-ui.min.js')
    // Resolve conflict in jQuery UI tooltip with Bootstrap tooltip
    script.
      $.widget.bridge('uibutton', $.ui.button)
    // Bootstrap 4
    script(src='plugins/bootstrap/js/bootstrap.bundle.min.js')
    // ChartJS
    script(src='plugins/chart.js/Chart.min.js')
    // Sparkline
    // script(src='plugins/sparklines/sparkline.js')
    // JQVMap
    script(src='plugins/jqvmap/jquery.vmap.min.js')
    script(src='plugins/jqvmap/maps/jquery.vmap.usa.js')
    // jQuery Knob Chart
    script(src='plugins/jquery-knob/jquery.knob.min.js')
    // daterangepicker
    script(src='plugins/moment/moment.min.js')
    script(src='plugins/daterangepicker/daterangepicker.js')
    // Tempusdominus Bootstrap 4
    script(src='plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js')
    // Summernote
    // script(src='plugins/summernote/summernote-bs4.min.js')
    // overlayScrollbars
    script(src='plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js')
    // AdminLTE App
    script(src='dist/js/adminlte.js')
    
    script(src='plugins/jsgrid/jsgrid.js')
    script(src='plugins/jquery-validation/jquery.validate.js')
    script.
      $(() => {
        $('#jsGrid').jsGrid({
          height: "auto",
          width: "100%",
          editing: true,
          autoload: true,
          sorting: true,
          paging: false,
          rowClick: function(args) {
            showDetailsDialog("Edit", args.item);
          },
          controller: {
            loadData: () =>
              $.ajax({
                url: "http://localhost:8090/api/unit"
              })
          },
          fields: [
            { name: 'id' },
            { name: "code", type: "number" },
            { name: "title", type: "textarea" },
            {
              type: "control",
              modeSwitchButton: false,
              editButton: true,
              headerTemplate: () =>
                $("<button>").attr("type", "button").text("Add")
                  .on("click", function () {
                    showDetailsDialog("Add", {});
                  })
            }
          ]
        })
        
        $("#detailsDialog").dialog({
          autoOpen: false,
          width: 700,
          close: function() {
            $("#detailsForm").validate().resetForm();
            $("#detailsForm").find(".error").removeClass("error");
          }
        });
        
        $("#detailsForm").validate({
          rules: {
            firstName: "required",
            lastName: { required: true, range: [4, 150] },
            email: { required: true, minlength: 10 }
          },
          messages: {
            firstName: "Please enter first name",
            lastName: "Please enter last name",
            email: "Please enter email (4-150 characters)"
          },
          submitHandler: function() {
            formSubmitHandler()
          }
        })
        
        var formSubmitHandler = $.noop;
        
        var showDetailsDialog = function(dialogType, client) {
          $("#firstName").val(client.firstName);
          $("#lastName").val(client.lastName);
          $("#email").val(client.email);
          
          formSubmitHandler = function() {
            saveClient(client, dialogType === "Add");
          };
          
          $("#detailsDialog")
            .dialog("option", "title", dialogType + " Client")
            .dialog("open");
          
          // $('#modalForm').modal()
        };
      })
  #modalForm.modal.fade(role="dialog")
    .modal-dialog(role="document")
      .modal-content
        .modal-header
          h5.modal-title BSMOD
        .modal-body
          form#detailsForm.form-horizontal
            .card-body
              .form-group.row
                label.col-sm-2.col-form-label(for='name') Name:
                .col-sm-10
                   input#name(name='name' type='text')
              .form-group.row
                label.col-sm-2.col-form-label(for='age') Age:
                .col-sm-10
                  input#age(name='age' type='number')
              .form-group.row
                label.col-sm-2.col-form-label(for='address') Address:
                .col-sm-10
                  input#address(name='address' type='text')
        .modal-footer
          button#save.btn.btn-primary(type='button') Save

