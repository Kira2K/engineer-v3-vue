extends ../layout.pug

block body
  - var instance = instance || {}
  .card: form(method='post' enctype='application/x-www-form-urlencoded')
    .card-header
      h3.card-title Новый паспорт
    .card-body
      +dummy_input('id', 'Код')
      .form-group
        label(for="unitId") Номенклатура
        select#unitId.form-control(name="nomenclatureId")
          option(value='') ___
          each val in nomenclature
            if instance.nomenclatureId == val.id
              option(selected value=val.id)= val.title
            else
              option(value=val.id)= val.title
      .form-group
        label(for="counterpartyId") Производитель
        select#counterpartyId.form-control(name="counterpartyId")
          option(value='') ___
          each val in counterparty
            if instance.counterpartyId == val.id
              option(selected value=val.id)= val.title
            else
              option(value=val.id)= val.title
      +input('factory_id',  'Заводской номер')
      +input('produced', 'Произведён')
      +input('commissioned', 'Введён в эксплуатацию')
      +input('warranty', 'Гарантия (мес)')
      +input('warranty_expiration', 'Истечение гарантии')
      +input('accepted_runtime', 'Допустимая наработка')
      +input('max_runtime', 'Максимальная наработка')
      +input('extra', 'Особые отметки')
    .card-footer
      if instance.id
        button.btn.btn-primary(type="submit") Сохранить
        a.float-right.btn.btn-danger(href=`/passport/delete/${instance.id}`) Удалить
      else
        button.btn.btn-primary(type="submit") Добавить
